{"version":3,"file":"refresh.min.js","sources":["../src/refresh.js"],"sourcesContent":["/*\n * Refresh content when changed on the system\n *\n * @package    block_deft\n * @module     block_deft/refresh\n * @copyright  2022 bdecent gmbh <https://bdecent.de>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Templates from \"core/templates\";\nimport Refresh from \"block_deft/refresh\";\n\nexport default class extends Refresh {\n    /**\n     * Replace content\n     *\n     * @param {DOMNode} content\n     * @param {string} html New content\n     * @param {string} js Scripts to run after replacement\n     */\n    replace(content, html, js) {\n        const comments = content.querySelector('.videotimetab_chat'),\n            height = comments.scrollHeight,\n            position = comments.scrollTop;\n\n        Templates.replaceNodeContents(content, html, js);\n        content.querySelector('.videotimetab_chat').scrollTop = position +\n            content.querySelector('.videotimetab_chat').scrollHeight - height;\n    }\n}\n"],"names":["Refresh","replace","content","html","js","comments","querySelector","height","scrollHeight","position","scrollTop","replaceNodeContents"],"mappings":";;;;;;;;oMAY6BA,iBAQzBC,QAAQC,QAASC,KAAMC,UACbC,SAAWH,QAAQI,cAAc,sBACnCC,OAASF,SAASG,aAClBC,SAAWJ,SAASK,6BAEdC,oBAAoBT,QAASC,KAAMC,IAC7CF,QAAQI,cAAc,sBAAsBI,UAAYD,SACpDP,QAAQI,cAAc,sBAAsBE,aAAeD"}