define ("videotimetab_chat/comment",["core/ajax","core/notification","core/log"],function(a,b,c){return{init:function init(d,e,f){var g=new ResizeObserver(function(a){var b=!0,d=!1,e=void 0;try{for(var f=a[Symbol.iterator](),g;!(b=(g=f.next()).done);b=!0){var h=g.value,i=h.target.querySelector(".videotimetab_chat");if(i&&i.scrollHeight&&0==i.scrollTop){c.debug(i.scrollHeight);i.scrollTop=i.scrollHeight}}}catch(a){d=!0;e=a}finally{try{if(!b&&null!=f.return){f.return()}}finally{if(d){throw e}}}});g.observe(document.querySelector(e));document.querySelector(e).addEventListener("click",function(c){var e=c.target.closest("[data-type=\"comments\"] [data-action]");if(e){var g=e.closest("[data-type=\"comments\"]").querySelector("textarea");c.preventDefault();c.stopPropagation();switch(e.getAttribute("data-action")){case"addcomment":if(g.textLength){a.call([{methodname:"videotimetab_chat_add_comments",args:{comments:[{content:g.value,contextlevel:"module",instanceid:f,itemid:0,component:"videotimetab_chat",area:"chat"}]},fail:b.exception,done:function done(){g.value=""}}])}break;case"delete":a.call([{contextid:d,methodname:"videotimetab_chat_delete_comments",args:{comments:[e.closest("[data-comment]").getAttribute("data-comment")]},fail:b.exception}]);break;}}})}}});
//# sourceMappingURL=comment.min.js.map
