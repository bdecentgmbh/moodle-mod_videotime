function _typeof(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}!function(a,b){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define ("mod_video-time-premium/player",b):((a="undefined"!=typeof globalThis?globalThis:a||self).Vimeo=a.Vimeo||{},a.Vimeo.Player=b())}(this,function(){"use strict";function aa(a,b){var c,d=Object.keys(a);return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),d.push.apply(d,c)),d}function ba(a){for(var b=1,c;b<arguments.length;b++){c=null!=arguments[b]?arguments[b]:{};b%2?aa(Object(c),!0).forEach(function(b){ea(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aa(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ca(){ca=function(){return B};var B={},a=Object.prototype,C=a.hasOwnProperty,D=Object.defineProperty||function(a,b,c){a[b]=c.value},e="function"==typeof Symbol?Symbol:{},f=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function j(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}try{j({},"")}catch(a){j=function(a,b,c){return a[b]=c}}function q(b,e,f,g){var h,j,k,m,n=e&&e.prototype instanceof d?e:d,o=Object.create(n.prototype),l=new w(g||[]);return D(o,"_invoke",{value:(h=b,j=f,k=l,m="suspendedStart",function(a,b){if("executing"===m)throw new Error("Generator is already running");if("completed"===m){if("throw"===a)throw b;return A()}for(k.method=a,k.arg=b;;){var c=k.delegate;if(c){var d=function b(c,d){var e=d.method,f=c.iterator[e];if(void 0===f)return d.delegate=null,"throw"===e&&c.iterator.return&&(d.method="return",d.arg=void 0,b(c,d),"throw"===d.method)||"return"!==e&&(d.method="throw",d.arg=new TypeError("The iterator does not provide a '"+e+"' method")),s;var g=z(f,c.iterator,d.arg);if("throw"===g.type)return d.method="throw",d.arg=g.arg,d.delegate=null,s;var h=g.arg;return h?h.done?(d[c.resultName]=h.value,d.next=c.nextLoc,"return"!==d.method&&(d.method="next",d.arg=void 0),d.delegate=null,s):h:(d.method="throw",d.arg=new TypeError("iterator result is not an object"),d.delegate=null,s)}(c,k);if(d){if(d===s)continue;return d}}if("next"===k.method)k.sent=k._sent=k.arg;else if("throw"===k.method){if("suspendedStart"===m)throw m="completed",k.arg;k.dispatchException(k.arg)}else"return"===k.method&&k.abrupt("return",k.arg);m="executing";var e=z(h,j,k);if("normal"===e.type){if(m=k.done?"completed":"suspendedYield",e.arg===s)continue;return{value:e.arg,done:k.done}}"throw"===e.type&&(m="completed",k.method="throw",k.arg=e.arg)}})}),o}function z(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}B.wrap=q;var s={};function d(){}function p(){}function c(){}var h={};j(h,f,function(){return this});var r=Object.getPrototypeOf,t=r&&r(r(x([])));t&&t!==a&&C.call(t,f)&&(h=t);var m=c.prototype=d.prototype=Object.create(h);function l(a){["next","throw","return"].forEach(function(b){j(a,b,function(a){return this._invoke(b,a)})})}function u(b,c){var a;D(this,"_invoke",{value:function value(d,f){function g(){return new c(function(a,e){!function d(f,e,g,h){var j=z(b[f],b,e);if("throw"!==j.type){var i=j.arg,a=i.value;return a&&"object"==_typeof(a)&&C.call(a,"__await")?c.resolve(a.__await).then(function(a){d("next",a,g,h)},function(a){d("throw",a,g,h)}):c.resolve(a).then(function(a){i.value=a,g(i)},function(a){return d("throw",a,g,h)})}h(j.arg)}(d,f,a,e)})}return a=a?a.then(g,g):g()}})}function b(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function k(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function w(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(b,this),this.reset(!0)}function x(a){if(a){var b=a[f];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;){if(C.call(a,c))return b.value=a[c],b.done=!1,b}return b.value=void 0,b.done=!0,b};return d.next=d}}return{next:A}}function A(){return{value:void 0,done:!0}}return D(m,"constructor",{value:p.prototype=c,configurable:!0}),D(c,"constructor",{value:p,configurable:!0}),p.displayName=j(c,n,"GeneratorFunction"),B.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===p||"GeneratorFunction"===(b.displayName||b.name))},B.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,c):(a.__proto__=c,j(a,n,"GeneratorFunction")),a.prototype=Object.create(m),a},B.awrap=function(a){return{__await:a}},l(u.prototype),j(u.prototype,o,function(){return this}),B.AsyncIterator=u,B.async=function(a,b,c,d,e){void 0===e&&(e=Promise);var f=new u(q(a,b,c,d),e);return B.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},l(m),j(m,n,"Generator"),j(m,f,function(){return this}),j(m,"toString",function(){return"[object Generator]"}),B.keys=function(a){var b=Object(a),c=[];for(var d in b){c.push(d)}return c.reverse(),function a(){for(;c.length;){var d=c.pop();if(d in b)return a.value=d,a.done=!1,a}return a.done=!0,a}},B.values=x,w.prototype={constructor:w,reset:function reset(a){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!a)for(var b in this){"t"===b.charAt(0)&&C.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)}},stop:function stop(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function dispatchException(b){if(this.done)throw b;var d=this;function c(a,c){return g.type="throw",g.arg=b,d.next=a,c&&(d.method="next",d.arg=void 0),!!c}for(var e=this.tryEntries.length-1;0<=e;--e){var f=this.tryEntries[e],g=f.completion;if("root"===f.tryLoc)return c("end");if(f.tryLoc<=this.prev){var h=C.call(f,"catchLoc"),a=C.call(f,"finallyLoc");if(h&&a){if(this.prev<f.catchLoc)return c(f.catchLoc,!0);if(this.prev<f.finallyLoc)return c(f.finallyLoc)}else if(h){if(this.prev<f.catchLoc)return c(f.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return c(f.finallyLoc)}}}},abrupt:function abrupt(a,b){for(var c=this.tryEntries.length-1,d;0<=c;--c){d=this.tryEntries[c];if(d.tryLoc<=this.prev&&C.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,s):this.complete(f)},complete:function complete(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),s},finish:function finish(a){for(var b=this.tryEntries.length-1,c;0<=b;--b){c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),k(c),s}},catch:function _catch(a){for(var b=this.tryEntries.length-1,c;0<=b;--b){c=this.tryEntries[b];if(c.tryLoc===a){var d,e=c.completion;return"throw"===e.type&&(d=e.arg,k(c)),d}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(a,b,c){return this.delegate={iterator:x(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=void 0),s}},B}function u(b,d,f,e,g,h,i){try{var a=b[h](i),j=a.value}catch(a){return void f(a)}a.done?d(j):Promise.resolve(j).then(e,g)}function da(b){return function(){var c=this,d=arguments;return new Promise(function(a,f){var i=b.apply(c,d);function g(b){u(i,a,f,g,h,"next",b)}function h(b){u(i,a,f,g,h,"throw",b)}g(void 0)})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,v(d.key),d)}}function l(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),Object.defineProperty(a,"prototype",{writable:!1}),a}function ea(a,b,c){return(b=v(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(a,b){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function a(){return(a=e()?Reflect.construct.bind():function(a,b,c){var d=[null];d.push.apply(d,b);var e=new(Function.bind.apply(a,d));return c&&s(e,c.prototype),e}).apply(null,arguments)}function fa(b){var c="function"==typeof Map?new Map:void 0;return(fa=function(b){if(null===b||(e=b,-1===Function.toString.call(e).indexOf("[native code]")))return b;var e;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==c){if(c.has(b))return c.get(b);c.set(b,d)}function d(){return a(b,arguments,o(this).constructor)}return d.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),s(d,b)})(b)}function ga(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(a){var b=e();return function(){var c,d=o(a);return function(a,b){if(b&&("object"==_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return ga(a)}(this,b?(c=o(this).constructor,Reflect.construct(d,arguments,c)):d.apply(this,arguments))}}function v(a){var b=function(a,b){if("object"!=_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0===c)return("string"===b?String:Number)(a);var d=c.call(a,b||"default");if("object"!=_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}(a,"string");return"symbol"==_typeof(b)?b:b+""}var H="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function y(a,b){return 0===a.indexOf(b.toLowerCase())?a:"".concat(b.toLowerCase()).concat(a.substr(0,1).toUpperCase()).concat(a.substr(1))}function m(a){return /^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(a)}function g(a){return /^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/.test(a)}function r(a){var b,c=0<arguments.length&&void 0!==a?a:{},d=c.id,e=c.url,f=d||e;if(!f)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(b=f,!isNaN(parseFloat(b))&&isFinite(b)&&Math.floor(b)==b)return"https://vimeo.com/".concat(f);if(m(f))return f.replace("http:","https:");if(d)throw new TypeError("\u201C".concat(d,"\u201D is not a valid video id."));throw new TypeError("\u201C".concat(f,"\u201D is not a vimeo.com url."))}function b(b,c,d,e,f){var g=3<arguments.length&&void 0!==e?e:"addEventListener",h=4<arguments.length&&void 0!==f?f:"removeEventListener",a="string"==typeof c?[c]:c;return a.forEach(function(a){b[g](a,d)}),{cancel:function cancel(){return a.forEach(function(a){return b[h](a,d)})}}}var n=void 0!==Array.prototype.indexOf,E="undefined"!=typeof window&&void 0!==window.postMessage;if(!(H||n&&E))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var x,W,ha,ia,ja="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function k(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(ia(this,"_id","_WeakMap_"+C()+"."+C()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function w(a,b){if(!N(a)||!W.call(a,"_id"))throw new TypeError(b+" method called on incompatible receiver "+_typeof(a))}function C(){return Math.random().toString().substring(2)}function N(a){return Object(a)===a}(x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:ja).WeakMap||(W=Object.prototype.hasOwnProperty,ha=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(a){}}(),ia=function(a,b,c){ha?Object.defineProperty(a,b,{configurable:!0,writable:!0,value:c}):a[b]=c},x.WeakMap=(ia(k.prototype,"delete",function(a){if(w(this,"delete"),!N(a))return!1;var b=a[this._id];return!(!b||b[0]!==a)&&(delete a[this._id],!0)}),ia(k.prototype,"get",function(a){if(w(this,"get"),N(a)){var b=a[this._id];return b&&b[0]===a?b[1]:void 0}}),ia(k.prototype,"has",function(a){if(w(this,"has"),!N(a))return!1;var b=a[this._id];return!(!b||b[0]!==a)}),ia(k.prototype,"set",function(a,b){if(w(this,"set"),!N(a))throw new TypeError("Invalid value used as weak map key");var c=a[this._id];return c&&c[0]===a?c[1]=b:ia(a,this._id,[a,b]),this}),ia(k,"_polyfill",!0),k));var M,ka=(function(a){var b,c,d;d=function(){var m,s,v,w,x,y,z=Object.prototype.toString,A="undefined"!=typeof setImmediate?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),m=function(a,b,c,d){return Object.defineProperty(a,b,{value:c,writable:!0,configurable:!1!==d})}}catch(a){m=function(a,b,c){return a[b]=c,a}}function b(a,b){this.fn=a,this.self=b,this.next=void 0}function c(a,b){v.add(a,b),s=s||A(v.drain)}function j(a){var b,c=_typeof(a);return null==a||"object"!=c&&"function"!=c||(b=a.then),"function"==typeof b&&b}function k(){for(var a=0;a<this.chain.length;a++){!function(a,b,c){var d,e;try{!1===b?c.reject(a.msg):(d=!0===b?a.msg:b.call(void 0,a.msg))===c.promise?c.reject(TypeError("Promise-chain cycle")):(e=j(d))?e.call(d,c.resolve,c.reject):c.resolve(d)}catch(a){c.reject(a)}}(this,1===this.state?this.chain[a].success:this.chain[a].failure,this.chain[a])}this.chain.length=0}function f(a){var b,g=this;if(!g.triggered){g.triggered=!0,g.def&&(g=g.def);try{(b=j(a))?c(function(){var c=new l(g);try{b.call(a,function(){f.apply(c,arguments)},function(){d.apply(c,arguments)})}catch(a){d.call(c,a)}}):(g.msg=a,g.state=1,0<g.chain.length&&c(k,g))}catch(a){d.call(new l(g),a)}}}function d(a){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=a,b.state=2,0<b.chain.length&&c(k,b))}function h(a,b,c,d){for(var e=0;e<b.length;e++){!function(f){a.resolve(b[f]).then(function(a){c(f,a)},d)}(e)}}function l(a){this.def=a,this.triggered=!1}function p(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function q(a){if("function"!=typeof a)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new p(this);this.then=function(a,d){var f={success:"function"!=typeof a||a,failure:"function"==typeof d&&d};return f.promise=new this.constructor(function(a,b){if("function"!=typeof a||"function"!=typeof b)throw TypeError("Not a function");f.resolve=a,f.reject=b}),b.chain.push(f),0!==b.state&&c(k,b),f.promise},this.catch=function(a){return this.then(void 0,a)};try{a.call(void 0,function(a){f.call(b,a)},function(a){d.call(b,a)})}catch(a){d.call(b,a)}}var e=m({},"constructor",q,!(v={add:function add(a,c){y=new b(a,c),x?x.next=y:w=y,x=y,y=void 0},drain:function drain(){var a=w;for(w=x=s=void 0;a;){a.fn.call(a.self),a=a.next}}}));return m(q.prototype=e,"__NPO__",0,!1),m(q,"resolve",function(a){return a&&"object"==_typeof(a)&&1===a.__NPO__?a:new this(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");b(a)})}),m(q,"reject",function(a){return new this(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");c(a)})}),m(q,"all",function(b){var c=this;return"[object Array]"!=z.call(b)?c.reject(TypeError("Not an array")):0===b.length?c.resolve([]):new c(function(a,d){if("function"!=typeof a||"function"!=typeof d)throw TypeError("Not a function");var f=b.length,g=Array(f),j=0;h(c,b,function(b,c){g[b]=c,++j===f&&a(g)},d)})}),m(q,"race",function(a){var b=this;return"[object Array]"!=z.call(a)?b.reject(TypeError("Not an array")):new b(function(c,d){if("function"!=typeof c||"function"!=typeof d)throw TypeError("Not a function");h(b,a,function(a,b){c(b)},d)})}),q},(c=ja)[b="Promise"]=c[b]||d(),a.exports&&(a.exports=c[b])}(M={exports:{}}),M.exports),A=new WeakMap;function F(a,b,c){var d=A.get(a.element)||{};b in d||(d[b]=[]),d[b].push(c),A.set(a.element,d)}function q(a,b){return(A.get(a.element)||{})[b]||[]}function I(a,b,c){var d=A.get(a.element)||{};if(!d[b])return!0;if(!c)return d[b]=[],A.set(a.element,d),!0;var e=d[b].indexOf(c);return-1!==e&&d[b].splice(e,1),A.set(a.element,d),d[b]&&0===d[b].length}function S(a){if("string"==typeof a)try{a=JSON.parse(a)}catch(a){return console.warn(a),{}}return a}function D(a,b,c){var d,e;a.element.contentWindow&&a.element.contentWindow.postMessage&&(d={method:b},void 0!==c&&(d.value=c),8<=(e=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&10>e&&(d=JSON.stringify(d)),a.element.contentWindow.postMessage(d,a.origin))}function V(a,b){var c,d,f=[];(b=S(b)).event?("error"===b.event&&q(a,b.data.method).forEach(function(c){var d=new Error(b.data.message);d.name=b.data.name,c.reject(d),I(a,b.data.method,c)}),f=q(a,"event:".concat(b.event)),c=b.data):!b.method||(d=function(a,b){var c=q(a,b);if(1>c.length)return!1;var d=c.shift();return I(a,b,d),d}(a,b.method))&&(f.push(d),c=b.value),f.forEach(function(b){try{if("function"==typeof b)return void b.call(a,c);b.resolve(c)}catch(a){}})}var R=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function z(a,b){var c=1<arguments.length&&void 0!==b?b:{};return R.reduce(function(b,c){var d=a.getAttribute("data-vimeo-".concat(c));return!d&&""!==d||(b[c]=""===d?1:d),b},c)}function G(a,b){var c=a.html;if(!b)throw new TypeError("An element must be provided");if(null!==b.getAttribute("data-vimeo-initialized"))return b.querySelector("iframe");var d=document.createElement("div");return d.innerHTML=c,b.appendChild(d.firstChild),b.setAttribute("data-vimeo-initialized","true"),b.querySelector("iframe")}function B(b,a,d){var e=1<arguments.length&&void 0!==a?a:{},f=2<arguments.length?d:void 0;return new Promise(function(a,c){if(!m(b))throw new TypeError("\u201C".concat(b,"\u201D is not a vimeo.com url."));var d=function(a){for(var b=(a||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),c=(b&&b[1]||"").replace("player.",""),d=0,e=[".videoji.hk",".vimeo.work",".videoji.cn"],f;d<e.length;d++){f=e[d];if(c.endsWith(f))return c}return"vimeo.com"}(b),g="https://".concat(d,"/api/oembed.json?url=").concat(encodeURIComponent(b));for(var h in e){e.hasOwnProperty(h)&&(g+="&".concat(h,"=").concat(encodeURIComponent(e[h])))}var j=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);j.open("GET",g,!0),j.onload=function(){if(404!==j.status){if(403!==j.status)try{var d=JSON.parse(j.responseText);if(403===d.domain_status_code)return G(d,f),void c(new Error("\u201C".concat(b,"\u201D is not embeddable.")));a(d)}catch(a){c(a)}else c(new Error("\u201C".concat(b,"\u201D is not embeddable.")));}else c(new Error("\u201C".concat(b,"\u201D was not found.")))},j.onerror=function(){var a=j.status?" (".concat(j.status,")"):"";c(new Error("There was an error fetching the embed code from Vimeo".concat(a,".")))},j.send()})}var U,la,ma,na={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},X=function(){!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&s(a,b)}(c,fa(EventTarget));var a,d,e,f=p(c);function c(a,b){var d,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},g=3<arguments.length?arguments[3]:void 0;return h(this,c),ea(ga(d=f.call(this)),"logger",void 0),ea(ga(d),"speedAdjustment",0),ea(ga(d),"adjustSpeed",function(){var a=da(ca().mark(function a(b,c){var f;return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:if(d.speedAdjustment===c)return a.abrupt("return");a.next=2;break;case 2:return a.next=4,b.getPlaybackRate();case 4:return a.t0=a.sent,a.t1=d.speedAdjustment,a.t2=a.t0-a.t1,a.t3=c,f=a.t2+a.t3,d.log("New playbackRate:  ".concat(f)),a.next=12,b.setPlaybackRate(f);case 12:d.speedAdjustment=c;case 13:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}()),d.logger=g,d.init(b,a,ba(ba({},na),e)),d}return l(c,[{key:"disconnect",value:function value(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(e=da(ca().mark(function c(d,f,g){var h,j,k,e=this;return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:return a.next=2,this.waitForTOReadyState(d,"open");case 2:if("viewer"===g.role)return a.next=5,this.updatePlayer(d,f,g);a.next=10;break;case 5:h=b(d,"change",function(){return e.updatePlayer(d,f,g)}),j=this.maintainPlaybackPosition(d,f,g),this.addEventListener("disconnect",function(){j.cancel(),h.cancel()}),a.next=14;break;case 10:return a.next=12,this.updateTimingObject(d,f);case 12:k=b(f,["seeked","play","pause","ratechange"],function(){return e.updateTimingObject(d,f)},"on","off"),this.addEventListener("disconnect",function(){return k.cancel()});case 14:case"end":return a.stop();}}},c,this)})),function(){return e.apply(this,arguments)})},{key:"updateTimingObject",value:(d=da(ca().mark(function a(b,c){return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:return a.t0=b,a.next=3,c.getCurrentTime();case 3:return a.t1=a.sent,a.next=6,c.getPaused();case 6:if(!a.sent){a.next=10;break}a.t2=0,a.next=13;break;case 10:return a.next=12,c.getPlaybackRate();case 12:a.t2=a.sent;case 13:a.t3=a.t2,a.t4={position:a.t1,velocity:a.t3},a.t0.update.call(a.t0,a.t4);case 16:case"end":return a.stop();}}},a)})),function(){return d.apply(this,arguments)})},{key:"updatePlayer",value:(a=da(ca().mark(function b(c,d,f){var g,h,j;return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:if(g=c.query(),h=g.position,j=g.velocity,"number"==typeof h&&d.setCurrentTime(h),"number"!=typeof j){a.next=25;break}if(0===j)return a.next=6,d.getPaused();a.next=11;break;case 6:if(a.t0=a.sent,!1!==a.t0){a.next=9;break}d.pause();case 9:a.next=25;break;case 11:if(0<j)return a.next=14,d.getPaused();a.next=25;break;case 14:if(a.t1=a.sent,!0===a.t1)return a.next=18,d.play().catch(function(){var a=da(ca().mark(function a(b){return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:if("NotAllowedError"===b.name&&f.autoPlayMuted)return a.next=3,d.setMuted(!0);a.next=5;break;case 3:return a.next=5,d.play().catch(function(a){return console.error("Couldn't play the video from TimingSrcConnector. Error:",a)});case 5:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}());a.next=19;break;case 18:this.updatePlayer(c,d,f);case 19:return a.next=21,d.getPlaybackRate();case 21:if(a.t2=a.sent,a.t3=j,a.t2===a.t3){a.next=25;break}d.setPlaybackRate(j);case 25:case"end":return a.stop();}}},b,this)})),function(){return a.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function value(b,a,g){var h=this,c=g.allowedDrift,j=g.maxAllowedDrift,e=g.minCheckInterval,k=g.maxRateAdjustment,f=g.maxTimeToCatchUp,d=1e3*Math.min(f,Math.max(e,j)),i=function(){var d=da(ca().mark(function d(){var g,l,m,p,q;return ca().wrap(function(d){for(;;){switch(d.prev=d.next){case 0:if(d.t0=0===b.query().velocity,d.t0){d.next=6;break}return d.next=4,a.getPaused();case 4:d.t1=d.sent,d.t0=!0===d.t1;case 6:if(d.t0)return d.abrupt("return");d.next=8;break;case 8:return d.t2=b.query().position,d.next=11,a.getCurrentTime();case 11:if(d.t3=d.sent,g=d.t2-d.t3,l=Math.abs(g),h.log("Drift: ".concat(g)),j<l)return d.next=18,h.adjustSpeed(a,0);d.next=22;break;case 18:a.setCurrentTime(b.query().position),h.log("Resync by currentTime"),d.next=29;break;case 22:if(c<l)return q=(m=l/f)<(p=k)?(p-m)/2:p,d.next=28,h.adjustSpeed(a,q*Math.sign(g));d.next=29;break;case 28:h.log("Resync by playbackRate");case 29:case"end":return d.stop();}}},d)}));return function(){return d.apply(this,arguments)}}(),l=setInterval(function(){return i()},d);return{cancel:function cancel(){return clearInterval(l)}}}},{key:"log",value:function value(a){var b;null!==(b=this.logger)&&void 0!==b&&b.call(this,"TimingSrcConnector: ".concat(a))}},{key:"waitForTOReadyState",value:function value(a,b){return new Promise(function(c){!function d(){a.readyState===b?c():a.addEventListener("readystatechange",d,{once:!0})}()})}}]),c}(),$=new WeakMap,Z=new WeakMap,K={},oa=function(){function a(b){var d,f,g=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(h(this,a),window.jQuery&&b instanceof jQuery&&(1<b.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),b=b[0]),"undefined"!=typeof document&&"string"==typeof b&&(b=document.getElementById(b)),d=b,!!!(d&&1===d.nodeType&&"nodeName"in d&&d.ownerDocument&&d.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===b.nodeName||(f=b.querySelector("iframe"))&&(b=f),"IFRAME"===b.nodeName&&!m(b.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if($.has(b))return $.get(b);this._window=b.ownerDocument.defaultView,this.element=b,this.origin="*";var i,j=new ka(function(d,f){var a;g._onMessage=function(a){if(m(a.origin)&&g.element.contentWindow===a.source){"*"===g.origin&&(g.origin=a.origin);var b=S(a.data);if(b&&"error"===b.event&&b.data&&"ready"===b.data.method){var c=new Error(b.data.message);return c.name=b.data.name,void f(c)}var e=b&&"ready"===b.event,h=b&&"ping"===b.method;if(e||h)return g.element.setAttribute("data-ready","true"),void d();V(g,b)}},g._window.addEventListener("message",g._onMessage),"IFRAME"!==g.element.nodeName&&B(r(a=z(b,c)),a,b).then(function(a){var c,d,e,f=G(a,b);return g.element=f,g._originalElement=b,c=b,d=f,e=A.get(c),A.set(d,e),A.delete(c),$.set(g.element,g),a}).catch(f)});return Z.set(this,j),$.set(this.element,this),"IFRAME"===this.element.nodeName&&D(this,"ping"),K.isEnabled&&(i=function(){return K.exit()},this.fullscreenchangeHandler=function(){(K.isFullscreen?F:I)(g,"event:exitFullscreen",i),g.ready().then(function(){D(g,"fullscreenchange",K.isFullscreen)})},K.on("fullscreenchange",this.fullscreenchangeHandler)),this}var b;return l(a,[{key:"callMethod",value:function value(a,b){var c=this,d=1<arguments.length&&void 0!==b?b:{};return new ka(function(b,e){return c.ready().then(function(){F(c,a,{resolve:b,reject:e}),D(c,a,d)}).catch(e)})}},{key:"get",value:function value(a){var b=this;return new ka(function(c,d){return a=y(a,"get"),b.ready().then(function(){F(b,a,{resolve:c,reject:d}),D(b,a)}).catch(d)})}},{key:"set",value:function value(a,b){var c=this;return new ka(function(d,e){if(a=y(a,"set"),null==b)throw new TypeError("There must be a value to set.");return c.ready().then(function(){F(c,a,{resolve:d,reject:e}),D(c,a,b)}).catch(e)})}},{key:"on",value:function value(a,b){if(!a)throw new TypeError("You must pass an event name.");if(!b)throw new TypeError("You must pass a callback function.");if("function"!=typeof b)throw new TypeError("The callback must be a function.");0===q(this,"event:".concat(a)).length&&this.callMethod("addEventListener",a).catch(function(){}),F(this,"event:".concat(a),b)}},{key:"off",value:function value(a,b){if(!a)throw new TypeError("You must pass an event name.");if(b&&"function"!=typeof b)throw new TypeError("The callback must be a function.");I(this,"event:".concat(a),b)&&this.callMethod("removeEventListener",a).catch(function(){})}},{key:"loadVideo",value:function value(a){return this.callMethod("loadVideo",a)}},{key:"ready",value:function value(){var a=Z.get(this)||new ka(function(a,b){b(new Error("Unknown player. Probably unloaded."))});return ka.resolve(a)}},{key:"addCuePoint",value:function value(a,b){var c=1<arguments.length&&void 0!==b?b:{};return this.callMethod("addCuePoint",{time:a,data:c})}},{key:"removeCuePoint",value:function value(a){return this.callMethod("removeCuePoint",a)}},{key:"enableTextTrack",value:function value(a,b){if(!a)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:a,kind:b})}},{key:"disableTextTrack",value:function value(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function value(){return this.callMethod("pause")}},{key:"play",value:function value(){return this.callMethod("play")}},{key:"requestFullscreen",value:function value(){return K.isEnabled?K.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function value(){return K.isEnabled?K.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function value(){return K.isEnabled?ka.resolve(K.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function value(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function value(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function value(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function value(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function value(){return this.callMethod("unload")}},{key:"destroy",value:function value(){var a=this;return new ka(function(b){var c;Z.delete(a),$.delete(a.element),a._originalElement&&($.delete(a._originalElement),a._originalElement.removeAttribute("data-vimeo-initialized")),a.element&&"IFRAME"===a.element.nodeName&&a.element.parentNode&&(a.element.parentNode.parentNode&&a._originalElement&&a._originalElement!==a.element.parentNode?a.element.parentNode.parentNode.removeChild(a.element.parentNode):a.element.parentNode.removeChild(a.element)),a.element&&"DIV"===a.element.nodeName&&a.element.parentNode&&(a.element.removeAttribute("data-vimeo-initialized"),(c=a.element.querySelector("iframe"))&&c.parentNode&&(c.parentNode.parentNode&&a._originalElement&&a._originalElement!==c.parentNode?c.parentNode.parentNode.removeChild(c.parentNode):c.parentNode.removeChild(c))),a._window.removeEventListener("message",a._onMessage),K.isEnabled&&K.off("fullscreenchange",a.fullscreenchangeHandler),b()})}},{key:"getAutopause",value:function value(){return this.get("autopause")}},{key:"setAutopause",value:function value(a){return this.set("autopause",a)}},{key:"getBuffered",value:function value(){return this.get("buffered")}},{key:"getCameraProps",value:function value(){return this.get("cameraProps")}},{key:"setCameraProps",value:function value(a){return this.set("cameraProps",a)}},{key:"getChapters",value:function value(){return this.get("chapters")}},{key:"getCurrentChapter",value:function value(){return this.get("currentChapter")}},{key:"getColor",value:function value(){return this.get("color")}},{key:"getColors",value:function value(){return ka.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function value(a){return this.set("color",a)}},{key:"setColors",value:function value(a){if(!Array.isArray(a))return new ka(function(a,b){return b(new TypeError("Argument must be an array."))});var b=new ka(function(a){return a(null)}),c=[a[0]?this.set("colorOne",a[0]):b,a[1]?this.set("colorTwo",a[1]):b,a[2]?this.set("colorThree",a[2]):b,a[3]?this.set("colorFour",a[3]):b];return ka.all(c)}},{key:"getCuePoints",value:function value(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function value(){return this.get("currentTime")}},{key:"setCurrentTime",value:function value(a){return this.set("currentTime",a)}},{key:"getDuration",value:function value(){return this.get("duration")}},{key:"getEnded",value:function value(){return this.get("ended")}},{key:"getLoop",value:function value(){return this.get("loop")}},{key:"setLoop",value:function value(a){return this.set("loop",a)}},{key:"setMuted",value:function value(a){return this.set("muted",a)}},{key:"getMuted",value:function value(){return this.get("muted")}},{key:"getPaused",value:function value(){return this.get("paused")}},{key:"getPlaybackRate",value:function value(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function value(a){return this.set("playbackRate",a)}},{key:"getPlayed",value:function value(){return this.get("played")}},{key:"getQualities",value:function value(){return this.get("qualities")}},{key:"getQuality",value:function value(){return this.get("quality")}},{key:"setQuality",value:function value(a){return this.set("quality",a)}},{key:"getRemotePlaybackAvailability",value:function value(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function value(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function value(){return this.get("seekable")}},{key:"getSeeking",value:function value(){return this.get("seeking")}},{key:"getTextTracks",value:function value(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function value(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function value(){return this.get("videoId")}},{key:"getVideoTitle",value:function value(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function value(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function value(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function value(){return this.get("videoUrl")}},{key:"getVolume",value:function value(){return this.get("volume")}},{key:"setVolume",value:function value(a){return this.set("volume",a)}},{key:"setTimingSrc",value:(b=da(ca().mark(function a(b,c){var d,e=this;return ca().wrap(function(a){for(;;){switch(a.prev=a.next){case 0:if(b){a.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return a.next=4,this.ready();case 4:return d=new X(this,b,c),D(this,"notifyTimingObjectConnect"),d.addEventListener("disconnect",function(){return D(e,"notifyTimingObjectDisconnect")}),a.abrupt("return",d);case 8:case"end":return a.stop();}}},a,this)})),function(){return b.apply(this,arguments)})}]),a}();return H||(U=function(){for(var a,b=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c=0,d=b.length,f={};c<d;c++){if((a=b[c])&&a[1]in document){for(c=0;c<a.length;c++){f[b[0][c]]=a[c]}return f}}return!1}(),la={fullscreenchange:U.fullscreenchange,fullscreenerror:U.fullscreenerror},ma={request:function request(a){return new Promise(function(b,c){function d(){ma.off("fullscreenchange",d),b()}ma.on("fullscreenchange",d);var e=(a=a||document.documentElement)[U.requestFullscreen]();e instanceof Promise&&e.then(d).catch(c)})},exit:function exit(){return new Promise(function(a,b){var c,d;ma.isFullscreen?(c=function b(){ma.off("fullscreenchange",b),a()},ma.on("fullscreenchange",c),(d=document[U.exitFullscreen]())instanceof Promise&&d.then(c).catch(b)):a()})},on:function on(a,b){var c=la[a];c&&document.addEventListener(c,b)},off:function off(a,b){var c=la[a];c&&document.removeEventListener(c,b)}},Object.defineProperties(ma,{isFullscreen:{get:function get(){return!!document[U.fullscreenElement]}},element:{enumerable:!0,get:function get(){return document[U.fullscreenElement]}},isEnabled:{enumerable:!0,get:function get(){return!!document[U.fullscreenEnabled]}}}),K=ma,function(a){function b(a){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(a))}var c=0<arguments.length&&void 0!==a?a:document;[].slice.call(c.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(a){try{if(null!==a.getAttribute("data-vimeo-defer"))return;var c=z(a);B(r(c),c,a).then(function(b){return G(b,a)}).catch(b)}catch(a){b(a)}})}(),function(a){var b=0<arguments.length&&void 0!==a?a:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(a){if(m(a.origin)&&a.data&&"spacechange"===a.data.event)for(var c=b.querySelectorAll("iframe"),d=0;d<c.length;d++){if(c[d].contentWindow===a.source){c[d].parentElement.style.paddingBottom="".concat(a.data.data[0].bottom,"px");break}}}))}(),function(b){var c=0<arguments.length&&void 0!==b?b:document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",function(a){if(m(a.origin)){var b=S(a.data);if(b&&"ready"===b.event)for(var d=c.querySelectorAll("iframe"),e=0;e<d.length;e++){var f=d[e],h=f.contentWindow===a.source;g(f.src)&&h&&new oa(f).callMethod("appendVideoMetadata",window.location.href)}}}))}(),function(b){var c,d=0<arguments.length&&void 0!==b?b:document;window.VimeoCheckedUrlTimeParam||(window.VimeoCheckedUrlTimeParam=!0,c=function(a){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(a))},window.addEventListener("message",function(a){if(m(a.origin)){var b=S(a.data);if(b&&"ready"===b.event)for(var f=d.querySelectorAll("iframe"),h=0;h<f.length;h++){!function(){var b,d=f[h],e=d.contentWindow===a.source;g(d.src)&&e&&(b=new oa(d)).getVideoId().then(function(a){var c,d=new RegExp("[?&]vimeo_t_".concat(a,"=([^&#]*)")).exec(window.location.href);d&&d[1]&&(c=decodeURI(d[1]),b.setCurrentTime(c))}).catch(c)}()}}}))}()),oa});
//# sourceMappingURL=player.min.js.map
