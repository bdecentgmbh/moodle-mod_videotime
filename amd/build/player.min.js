function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}!function(a,b){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define ("mod_videotime/player",b):((a="undefined"!=typeof globalThis?globalThis:a||self).Vimeo=a.Vimeo||{},a.Vimeo.Player=b())}(this,function(){"use strict";function z(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var F="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function B(a,b){return 0===a.indexOf(b.toLowerCase())?a:"".concat(b.toLowerCase()).concat(a.substr(0,1).toUpperCase()).concat(a.substr(1))}function D(a){return /^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(a)}function c(a){var b,c=0<arguments.length&&void 0!==a?a:{},d=c.id,e=c.url,f=d||e;if(!f)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(b=f,!isNaN(parseFloat(b))&&isFinite(b)&&Math.floor(b)==b)return"https://vimeo.com/".concat(f);if(D(f))return f.replace("http:","https:");if(d)throw new TypeError("\u201C".concat(d,"\u201D is not a valid video id."));throw new TypeError("\u201C".concat(f,"\u201D is not a vimeo.com url."))}var e=void 0!==Array.prototype.indexOf,t="undefined"!=typeof window&&void 0!==window.postMessage;if(!(F||e&&t))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var n,J,K,L,M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(L(this,"_id","_WeakMap_"+h()+"."+h()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function d(a,b){if(!r(a)||!J.call(a,"_id"))throw new TypeError(b+" method called on incompatible receiver "+_typeof(a))}function h(){return Math.random().toString().substring(2)}function r(a){return Object(a)===a}(n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:M).WeakMap||(J=Object.prototype.hasOwnProperty,K=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(a){}}(),L=function(a,b,c){K?Object.defineProperty(a,b,{configurable:!0,writable:!0,value:c}):a[b]=c},n.WeakMap=(L(i.prototype,"delete",function(a){if(d(this,"delete"),!r(a))return!1;var b=a[this._id];return!(!b||b[0]!==a)&&(delete a[this._id],!0)}),L(i.prototype,"get",function(a){if(d(this,"get"),r(a)){var b=a[this._id];return b&&b[0]===a?b[1]:void 0}}),L(i.prototype,"has",function(a){if(d(this,"has"),!r(a))return!1;var b=a[this._id];return!(!b||b[0]!==a)}),L(i.prototype,"set",function(a,b){if(d(this,"set"),!r(a))throw new TypeError("Invalid value used as weak map key");var c=a[this._id];return c&&c[0]===a?c[1]=b:L(a,this._id,[a,b]),this}),L(i,"_polyfill",!0),i));var f,N=(function(a){var b,c,d;d=function(){var q,s,v,w,x,y,z=Object.prototype.toString,A="undefined"!=typeof setImmediate?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),q=function(a,b,c,d){return Object.defineProperty(a,b,{value:c,writable:!0,configurable:!1!==d})}}catch(a){q=function(a,b,c){return a[b]=c,a}}function b(a,b){this.fn=a,this.self=b,this.next=void 0}function j(a,b){v.add(a,b),s=s||A(v.drain)}function c(a){var b,c=_typeof(a);return null==a||"object"!=c&&"function"!=c||(b=a.then),"function"==typeof b&&b}function k(){for(var a=0;a<this.chain.length;a++){!function(a,b,d){var e,f;try{!1===b?d.reject(a.msg):(e=!0===b?a.msg:b.call(void 0,a.msg))===d.promise?d.reject(TypeError("Promise-chain cycle")):(f=c(e))?f.call(e,d.resolve,d.reject):d.resolve(e)}catch(a){d.reject(a)}}(this,1===this.state?this.chain[a].success:this.chain[a].failure,this.chain[a])}this.chain.length=0}function f(a){var b,g=this;if(!g.triggered){g.triggered=!0,g.def&&(g=g.def);try{(b=c(a))?j(function(){var c=new l(g);try{b.call(a,function(){f.apply(c,arguments)},function(){d.apply(c,arguments)})}catch(a){d.call(c,a)}}):(g.msg=a,g.state=1,0<g.chain.length&&j(k,g))}catch(a){d.call(new l(g),a)}}}function d(a){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=a,b.state=2,0<b.chain.length&&j(k,b))}function h(a,b,c,d){for(var e=0;e<b.length;e++){!function(f){a.resolve(b[f]).then(function(a){c(f,a)},d)}(e)}}function l(a){this.def=a,this.triggered=!1}function m(a){this.promise=a,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(a){if("function"!=typeof a)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new m(this);this.then=function(a,c){var d={success:"function"!=typeof a||a,failure:"function"==typeof c&&c};return d.promise=new this.constructor(function(a,b){if("function"!=typeof a||"function"!=typeof b)throw TypeError("Not a function");d.resolve=a,d.reject=b}),b.chain.push(d),0!==b.state&&j(k,b),d.promise},this.catch=function(a){return this.then(void 0,a)};try{a.call(void 0,function(a){f.call(b,a)},function(a){d.call(b,a)})}catch(a){d.call(b,a)}}var e=q({},"constructor",p,!(v={add:function add(a,c){y=new b(a,c),x?x.next=y:w=y,x=y,y=void 0},drain:function drain(){var a=w;for(w=x=s=void 0;a;){a.fn.call(a.self),a=a.next}}}));return q(p.prototype=e,"__NPO__",0,!1),q(p,"resolve",function(a){return a&&"object"==_typeof(a)&&1===a.__NPO__?a:new this(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");b(a)})}),q(p,"reject",function(a){return new this(function(b,c){if("function"!=typeof b||"function"!=typeof c)throw TypeError("Not a function");c(a)})}),q(p,"all",function(b){var c=this;return"[object Array]"!=z.call(b)?c.reject(TypeError("Not an array")):0===b.length?c.resolve([]):new c(function(a,d){if("function"!=typeof a||"function"!=typeof d)throw TypeError("Not a function");var f=b.length,g=Array(f),j=0;h(c,b,function(b,c){g[b]=c,++j===f&&a(g)},d)})}),q(p,"race",function(a){var b=this;return"[object Array]"!=z.call(a)?b.reject(TypeError("Not an array")):new b(function(c,d){if("function"!=typeof c||"function"!=typeof d)throw TypeError("Not a function");h(b,a,function(a,b){c(b)},d)})}),p},(c=M)[b="Promise"]=c[b]||d(),a.exports&&(a.exports=c[b])}(f={exports:{}}),f.exports),y=new WeakMap;function m(a,b,c){var d=y.get(a.element)||{};b in d||(d[b]=[]),d[b].push(c),y.set(a.element,d)}function s(a,b){return(y.get(a.element)||{})[b]||[]}function b(a,b,c){var d=y.get(a.element)||{};if(!d[b])return!0;if(!c)return d[b]=[],y.set(a.element,d),!0;var e=d[b].indexOf(c);return-1!==e&&d[b].splice(e,1),y.set(a.element,d),d[b]&&0===d[b].length}var g=["autopause","autoplay","background","byline","color","controls","dnt","height","id","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function k(a,b){var c=1<arguments.length&&void 0!==b?b:{};return g.reduce(function(b,c){var d=a.getAttribute("data-vimeo-".concat(c));return!d&&""!==d||(b[c]=""===d?1:d),b},c)}function v(a,b){var c=a.html;if(!b)throw new TypeError("An element must be provided");if(null!==b.getAttribute("data-vimeo-initialized"))return b.querySelector("iframe");var d=document.createElement("div");return d.innerHTML=c,b.appendChild(d.firstChild),b.setAttribute("data-vimeo-initialized","true"),b.querySelector("iframe")}function w(b,c,d){var e=1<arguments.length&&void 0!==c?c:{},a=2<arguments.length?d:void 0;return new Promise(function(c,d){if(!D(b))throw new TypeError("\u201C".concat(b,"\u201D is not a vimeo.com url."));var f="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(b));for(var g in e){e.hasOwnProperty(g)&&(f+="&".concat(g,"=").concat(encodeURIComponent(e[g])))}var h=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);h.open("GET",f,!0),h.onload=function(){if(404!==h.status){if(403!==h.status)try{var f=JSON.parse(h.responseText);if(403===f.domain_status_code)return v(f,a),void d(new Error("\u201C".concat(b,"\u201D is not embeddable.")));c(f)}catch(a){d(a)}else d(new Error("\u201C".concat(b,"\u201D is not embeddable.")));}else d(new Error("\u201C".concat(b,"\u201D was not found.")))},h.onerror=function(){var a=h.status?" (".concat(h.status,")"):"";d(new Error("There was an error fetching the embed code from Vimeo".concat(a,".")))},h.send()})}function G(a){if("string"==typeof a)try{a=JSON.parse(a)}catch(a){return console.warn(a),{}}return a}function H(a,b,c){var d,e;a.element.contentWindow&&a.element.contentWindow.postMessage&&(d={method:b},void 0!==c&&(d.value=c),8<=(e=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&10>e&&(d=JSON.stringify(d)),a.element.contentWindow.postMessage(d,a.origin))}function I(a,c){var d,f,g=[];(c=G(c)).event?("error"===c.event&&s(a,c.data.method).forEach(function(d){var e=new Error(c.data.message);e.name=c.data.name,d.reject(e),b(a,c.data.method,d)}),g=s(a,"event:".concat(c.event)),d=c.data):!c.method||(f=function(a,c){var d=s(a,c);if(1>d.length)return!1;var e=d.shift();return b(a,c,e),e}(a,c.method))&&(g.push(f),d=c.value),g.forEach(function(b){try{if("function"==typeof b)return void b.call(a,d);b.resolve(d)}catch(a){}})}var E,O,P,Q=new WeakMap,A=new WeakMap,q={},R=function(){function a(d){var f,g,h=this,j=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),window.jQuery&&d instanceof jQuery&&(1<d.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),d=d[0]),"undefined"!=typeof document&&"string"==typeof d&&(d=document.getElementById(d)),f=d,!!!(f&&1===f.nodeType&&"nodeName"in f&&f.ownerDocument&&f.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===d.nodeName||(g=d.querySelector("iframe"))&&(d=g),"IFRAME"===d.nodeName&&!D(d.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(Q.has(d))return Q.get(d);this._window=d.ownerDocument.defaultView,this.element=d,this.origin="*";var i,l=new N(function(b,f){var a;h._onMessage=function(a){if(D(a.origin)&&h.element.contentWindow===a.source){"*"===h.origin&&(h.origin=a.origin);var c=G(a.data);if(c&&"error"===c.event&&c.data&&"ready"===c.data.method){var d=new Error(c.data.message);return d.name=c.data.name,void f(d)}var e=c&&"ready"===c.event,g=c&&"ping"===c.method;if(e||g)return h.element.setAttribute("data-ready","true"),void b();I(h,c)}},h._window.addEventListener("message",h._onMessage),"IFRAME"!==h.element.nodeName&&w(c(a=k(d,j)),a,d).then(function(a){var b,c,e,f=v(a,d);return h.element=f,h._originalElement=d,b=d,c=f,e=y.get(b),y.set(c,e),y.delete(b),Q.set(h.element,h),a}).catch(f)});return A.set(this,l),Q.set(this.element,this),"IFRAME"===this.element.nodeName&&H(this,"ping"),q.isEnabled&&(i=function(){return q.exit()},this.fullscreenchangeHandler=function(){(q.isFullscreen?m:b)(h,"event:exitFullscreen",i),h.ready().then(function(){H(h,"fullscreenchange",q.isFullscreen)})},q.on("fullscreenchange",this.fullscreenchangeHandler)),this}var d,f,g;return d=a,(f=[{key:"callMethod",value:function value(a,b){var c=this,d=1<arguments.length&&void 0!==b?b:{};return new N(function(b,e){return c.ready().then(function(){m(c,a,{resolve:b,reject:e}),H(c,a,d)}).catch(e)})}},{key:"get",value:function value(a){var b=this;return new N(function(c,d){return a=B(a,"get"),b.ready().then(function(){m(b,a,{resolve:c,reject:d}),H(b,a)}).catch(d)})}},{key:"set",value:function value(a,b){var c=this;return new N(function(d,e){if(a=B(a,"set"),null==b)throw new TypeError("There must be a value to set.");return c.ready().then(function(){m(c,a,{resolve:d,reject:e}),H(c,a,b)}).catch(e)})}},{key:"on",value:function value(a,b){if(!a)throw new TypeError("You must pass an event name.");if(!b)throw new TypeError("You must pass a callback function.");if("function"!=typeof b)throw new TypeError("The callback must be a function.");0===s(this,"event:".concat(a)).length&&this.callMethod("addEventListener",a).catch(function(){}),m(this,"event:".concat(a),b)}},{key:"off",value:function value(a,c){if(!a)throw new TypeError("You must pass an event name.");if(c&&"function"!=typeof c)throw new TypeError("The callback must be a function.");b(this,"event:".concat(a),c)&&this.callMethod("removeEventListener",a).catch(function(){})}},{key:"loadVideo",value:function value(a){return this.callMethod("loadVideo",a)}},{key:"ready",value:function value(){var a=A.get(this)||new N(function(a,b){b(new Error("Unknown player. Probably unloaded."))});return N.resolve(a)}},{key:"addCuePoint",value:function value(a,b){var c=1<arguments.length&&void 0!==b?b:{};return this.callMethod("addCuePoint",{time:a,data:c})}},{key:"removeCuePoint",value:function value(a){return this.callMethod("removeCuePoint",a)}},{key:"enableTextTrack",value:function value(a,b){if(!a)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:a,kind:b})}},{key:"disableTextTrack",value:function value(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function value(){return this.callMethod("pause")}},{key:"play",value:function value(){return this.callMethod("play")}},{key:"requestFullscreen",value:function value(){return q.isEnabled?q.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function value(){return q.isEnabled?q.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function value(){return q.isEnabled?N.resolve(q.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function value(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function value(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function value(){return this.get("pictureInPicture")}},{key:"unload",value:function value(){return this.callMethod("unload")}},{key:"destroy",value:function value(){var a=this;return new N(function(b){var c;A.delete(a),Q.delete(a.element),a._originalElement&&(Q.delete(a._originalElement),a._originalElement.removeAttribute("data-vimeo-initialized")),a.element&&"IFRAME"===a.element.nodeName&&a.element.parentNode&&(a.element.parentNode.parentNode&&a._originalElement&&a._originalElement!==a.element.parentNode?a.element.parentNode.parentNode.removeChild(a.element.parentNode):a.element.parentNode.removeChild(a.element)),a.element&&"DIV"===a.element.nodeName&&a.element.parentNode&&(a.element.removeAttribute("data-vimeo-initialized"),(c=a.element.querySelector("iframe"))&&c.parentNode&&(c.parentNode.parentNode&&a._originalElement&&a._originalElement!==c.parentNode?c.parentNode.parentNode.removeChild(c.parentNode):c.parentNode.removeChild(c))),a._window.removeEventListener("message",a._onMessage),q.isEnabled&&q.off("fullscreenchange",a.fullscreenchangeHandler),b()})}},{key:"getAutopause",value:function value(){return this.get("autopause")}},{key:"setAutopause",value:function value(a){return this.set("autopause",a)}},{key:"getBuffered",value:function value(){return this.get("buffered")}},{key:"getCameraProps",value:function value(){return this.get("cameraProps")}},{key:"setCameraProps",value:function value(a){return this.set("cameraProps",a)}},{key:"getChapters",value:function value(){return this.get("chapters")}},{key:"getCurrentChapter",value:function value(){return this.get("currentChapter")}},{key:"getColor",value:function value(){return this.get("color")}},{key:"setColor",value:function value(a){return this.set("color",a)}},{key:"getCuePoints",value:function value(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function value(){return this.get("currentTime")}},{key:"setCurrentTime",value:function value(a){return this.set("currentTime",a)}},{key:"getDuration",value:function value(){return this.get("duration")}},{key:"getEnded",value:function value(){return this.get("ended")}},{key:"getLoop",value:function value(){return this.get("loop")}},{key:"setLoop",value:function value(a){return this.set("loop",a)}},{key:"setMuted",value:function value(a){return this.set("muted",a)}},{key:"getMuted",value:function value(){return this.get("muted")}},{key:"getPaused",value:function value(){return this.get("paused")}},{key:"getPlaybackRate",value:function value(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function value(a){return this.set("playbackRate",a)}},{key:"getPlayed",value:function value(){return this.get("played")}},{key:"getQualities",value:function value(){return this.get("qualities")}},{key:"getQuality",value:function value(){return this.get("quality")}},{key:"setQuality",value:function value(a){return this.set("quality",a)}},{key:"getSeekable",value:function value(){return this.get("seekable")}},{key:"getSeeking",value:function value(){return this.get("seeking")}},{key:"getTextTracks",value:function value(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function value(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function value(){return this.get("videoId")}},{key:"getVideoTitle",value:function value(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function value(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function value(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function value(){return this.get("videoUrl")}},{key:"getVolume",value:function value(){return this.get("volume")}},{key:"setVolume",value:function value(a){return this.set("volume",a)}}])&&z(d.prototype,f),g&&z(d,g),a}();return F||(E=function(){for(var a,b=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],c=0,d=b.length,f={};c<d;c++){if((a=b[c])&&a[1]in document){for(c=0;c<a.length;c++){f[b[0][c]]=a[c]}return f}}return!1}(),O={fullscreenchange:E.fullscreenchange,fullscreenerror:E.fullscreenerror},P={request:function request(a){return new Promise(function(b,c){function d(){P.off("fullscreenchange",d),b()}P.on("fullscreenchange",d);var e=(a=a||document.documentElement)[E.requestFullscreen]();e instanceof Promise&&e.then(d).catch(c)})},exit:function exit(){return new Promise(function(a,b){var c,d;P.isFullscreen?(c=function b(){P.off("fullscreenchange",b),a()},P.on("fullscreenchange",c),(d=document[E.exitFullscreen]())instanceof Promise&&d.then(c).catch(b)):a()})},on:function on(a,b){var c=O[a];c&&document.addEventListener(c,b)},off:function off(a,b){var c=O[a];c&&document.removeEventListener(c,b)}},Object.defineProperties(P,{isFullscreen:{get:function get(){return!!document[E.fullscreenElement]}},element:{enumerable:!0,get:function get(){return document[E.fullscreenElement]}},isEnabled:{enumerable:!0,get:function get(){return!!document[E.fullscreenEnabled]}}}),q=P,function(a){function b(a){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(a))}var d=0<arguments.length&&void 0!==a?a:document;[].slice.call(d.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(a){try{if(null!==a.getAttribute("data-vimeo-defer"))return;var d=k(a);w(c(d),d,a).then(function(b){return v(b,a)}).catch(b)}catch(a){b(a)}})}(),function(a){var b=0<arguments.length&&void 0!==a?a:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(a){if(D(a.origin)&&a.data&&"spacechange"===a.data.event)for(var c=b.querySelectorAll("iframe"),d=0;d<c.length;d++){if(c[d].contentWindow===a.source){c[d].parentElement.style.paddingBottom="".concat(a.data.data[0].bottom,"px");break}}}))}()),R});
//# sourceMappingURL=player.min.js.map
