define(["jquery","mod_videotime/player","core/ajax"],function(a,b,c){return{init:function(a,d,e){console.log("INIT");var f=new b("vimeo-embed",{responsive:1}),g=!1,h=0;f.on("play",function(){g=!0}),f.on("playing",function(){g=!0}),f.on("timeupdate",function(){g=!0}),f.on("pause",function(){g=!1}),f.on("ended",function(){g=!1}),f.on("stalled",function(){g=!1}),f.on("suspend",function(){g=!1}),f.on("abort",function(){g=!1}),f.on("ended",function(){console.log("Finished.")}),setInterval(function(){h+=e,g&&c.call([{methodname:"mod_videotime_record_watch_time",args:{user_id:d.id,module_id:a.id,time:h}}])},1e3*e)}}});