define(["jquery","mod_videotime/player","core/ajax"],function(a,b,c){return{init:function(a,d){console.log("INIT",a);var e=new b("vimeo-embed",{responsive:1}),f=!1,g=0;e.on("play",function(){f=!0}),e.on("playing",function(){f=!0}),e.on("timeupdate",function(){f=!0}),e.on("pause",function(){f=!1}),e.on("ended",function(){f=!1}),e.on("stalled",function(){f=!1}),e.on("suspend",function(){f=!1}),e.on("abort",function(){f=!1}),e.on("ended",function(){console.log("Finished.")}),setInterval(function(){f&&(g++,g%d===0&&c.call([{methodname:"mod_videotime_record_watch_time",args:{session_id:a.id,time:g}}]))},1e3)}}});